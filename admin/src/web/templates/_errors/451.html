{% extends "_layouts/base.html" %}
{% block base_head %}
<title>git push main --force</title>
{% endblock %}
{% block base_body %}
<main class="absolute inset-0 grid place-items-center grid-cols-1 grid-rows-1">
  <div
    id="interaction-wall"
    class="col-start-1 row-start-1 w-full h-full z-10 flex items-center justify-center text-white bg-black xs:text-lg md:text-xl lg:text-2xl" >
    <code><pre>$ git push main --force</pre></code>
  </div>
  <video class="col-start-1 row-start-1 w-full h-full object-cover" loop>
    <source src="https://sleepy-montalcini-301737.netlify.app/assets/DittoVideo.mp4" type="video/mp4">
  </video>
  <script>
    /** @type {HTMLVideoElement} */
    const video = document.querySelector('video');
    video.volume = 0.5;
    /** @type {HTMLDivElement} */
    const interactionWall = document.querySelector('#interaction-wall');
    function pushMain() {
      if (interactionWall.classList.contains('hidden')) {
        interactionWall.classList.remove('hidden');
        video.pause();
      } else {
        interactionWall.classList.add('hidden');
        video.play();
      }
    }
    document.addEventListener('click', pushMain);
    document.addEventListener('keydown', (event) => {
      if (event.key === 'Enter' || event.key === ' ' || event.key === 'Escape') {
        pushMain();
        return;
      }
    });
  </script>
</main>
{% endblock %}
